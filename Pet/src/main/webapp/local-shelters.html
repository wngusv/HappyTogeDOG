<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>지역 유기견 보호센터</title>
<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
	<header>
		<div class="container">
			<h1>지역 유기견 보호센터</h1>
			<nav>
				<ul>
					<li><a href="index.html">홈으로</a></li>
					<li><a href="signupform.jsp">회원가입</a></li>
					<li><a id="login-button" href="login.html">로그인</a></li>
				</ul>
			</nav>
		</div>
	</header>

	<main>
		<div class="container">
			<section class="strays-info">
				<h2>지역 유기견 보호센터</h2>
				<div id="shelters"></div>
				<div id="shelter-info"></div>
			</section>
		</div>
	</main>

	<footer>
		<div class="container">
			<p>&copy; 2024 Pet. 모든 권리 보유.</p>
		</div>
	</footer>
	<script>
	        var xhr = new XMLHttpRequest();
	        var url = 'http://apis.data.go.kr/1543061/animalShelterSrvc/shelterInfo'; /* API URL */
	        var serviceKey = '0tRr5MoRdNxPxSkeGUb2m4ShjZ026SsFQD%2FTbVpE8yeAMHJU1kZyfHaMiAsD5bpT62J9fluKxvzaTdH2R3%2FDEA%3D%3D'; /* 서비스 키 */
	        var queryParams = '?' + encodeURIComponent('serviceKey') + '=' + encodeURIComponent(serviceKey); /* 서비스 키 */
	        queryParams += '&' + encodeURIComponent('care_reg_no') + '=' + encodeURIComponent(''); /**/
	        queryParams += '&' + encodeURIComponent('care_nm') + '=' + encodeURIComponent(''); /**/
	        queryParams += '&' + encodeURIComponent('numOfRows') + '=' + encodeURIComponent('1000'); /**/
	        queryParams += '&' + encodeURIComponent('pageNo') + '=' + encodeURIComponent('1'); /**/
	        queryParams += '&' + encodeURIComponent('_type') + '=' + encodeURIComponent('json'); /**/

	        xhr.open('GET', url + queryParams);
	        xhr.onreadystatechange = function () {
	            if (this.readyState == 4 && this.status == 200) {
	                var responseData = JSON.parse(this.responseText);
	                displayShelterInfo(responseData.response.body.items.item);
	            }
	        };

	        xhr.send('');

	        function displayShelterInfo(shelters) {
	            var shelterInfoDiv = document.getElementById('shelter-info');
	            shelterInfoDiv.innerHTML = ''; // 이전 내용 초기화

	            shelters.forEach(function(shelter) {
	                var shelterElement = document.createElement('div');
	                shelterElement.innerHTML = '<p>보호소 이름: ' + shelter.careNm + '</p>' +
	                                           '<p>관리기관명: ' + shelter.orgNm + '</p>' +
	                                           '<p>전화번호: ' + shelter.careTel + '</p>' +
	                                           '<p>주소: ' + shelter.careAddr + '</p>'; // 필요한 정보 추가 가능
	                shelterInfoDiv.appendChild(shelterElement);
	            });
	        }
	    </script>
</body>
</html>
